{% extends "base.html" %}

{#{% block script %}#}
{#<script type="text/javascript">#}
{#    setInterval(function() {#}
{#        $.getJSON($SCRIPT_ROOT + '/get_news',#}
{#        function(data) {#}
{#            $("#news").html(data.news)#}
{#        });#}
{#        return false;#}
{#    }, 4000);#}
{#</script>#}
{#{% endblock %}#}

{% block content %}

    <div class="container-fluid shadow-sm rounded" style="background-color: #F0F0F0;">
        <div class="row">
            <div class="col-9">
                <h1>Новая идиома</h1>
            </div>
        </div>
    </div>

    <br>

    {% block forms %}
        <div style="max-width: 600px; margin: auto;" align="center">
            <form method="post" novalidate>
                {{ form.hidden_tag() }}
                {{ form.csrf_token }}
                <br>

                <div class="form-group row">
                    {{ form.text.label(for="name_input", class="col-sm-2 col-form-label") }}
                    <div class="col-sm-10">
                        {{ form.text(class="form-control", id="name_input") }}
                    </div>
                </div>
                {% for error in form.text.errors %}
                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-10 alert alert-danger" role="alert">
                            {{ error }}
                        </div>
                    </div>
                {% endfor %}

                <div class="form-group row">
                    {{ form.meaning.label(for="name_input", class="col-sm-2 col-form-label") }}
                    <div class="col-sm-10">
                        {{ form.meaning(class="form-control", id="name_input") }}
                    </div>
                </div>
                {% for error in form.meaning.errors %}
                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-10 alert alert-danger" role="alert">
                            {{ error }}
                        </div>
                    </div>
                {% endfor %}

                <div class="form-group row">
                    <div class="col-sm-12">
                        {{ form.submit(type="submit", class="btn btn-primary") }}
                    </div>
                </div>

                {% if message %}
                    <div class="row alert alert-danger">{{ message }}</div>
                {% endif %}
            </form>
        </div>
    {% endblock %}

{% endblock %}
